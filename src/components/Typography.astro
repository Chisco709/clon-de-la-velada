---
import type { HTMLTag, Polymorphic } from "astro/types"

type Props<Tag extends HTMLTag> = Polymorphic<{
	as: Tag
	variant: VariantClasses
	color: ColorClasses
	href?: string
}>
const { as: Tag, class: className, variant, color, href, ...props } = Astro.props
const variantClassesKey = variant as VariantClasses
const colorClassesKey = color as ColorClasses
const variantClasses = {
	h2: "text-lg font-medium uppercase lg:text-2xl",
	h3: "text-2xl font-semibold uppercase",
	body: "text-xl",
	medium: "text-md",
} as const
type VariantClasses = keyof typeof variantClasses

const colorClasses = {
	white: "text-white",
	black: "text-black",
	primary: "text-accent",
	neutral: "text-neutral-300",
}
type ColorClasses = keyof typeof colorClasses
const classes = [variantClasses[variantClassesKey], colorClasses[colorClassesKey], className]
---

{
	href ? (
		<a href={href} class:list={classes} {...props}>
			<slot />
		</a>
	) : (
		<Tag class:list={classes} {...props}>
			<slot />
		</Tag>
	)
}
